!function(n){XenForo.SV_UserGroupTaggingTinyQuattro=function(t){tinymce.create("tinymce.plugins.xen_group_tagging",{init:function(n){var t=xenMCE.Lib.getTools();return t.getParam("oldXen")?!1:void n.on("PastePreProcess",function(n){n.content=n.content.replace(/([\w\W]|^)<a\s[^>]*data-usergroup="(\d+, [^"]+)"[^>]*>([\w\W]+?)<\/a>/gi,function(n,t,e){var g=e.split(", ");return parseInt(g[0],10)?t+("@"==t?"":"@")+g[1].replace(/^@/,""):n})})}});var e=t.data("quattro");e&&n.inArray("xen_tagging",e.settings.plugins)&&(tinymce.PluginManager.add("xen_group_tagging",tinymce.plugins.xen_group_tagging),e.settings.plugins.push("xen_group_tagging"))},XenForo.register("textarea.BbCodeWysiwygEditor","XenForo.SV_UserGroupTaggingTinyQuattro")}(jQuery,this,document);